<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<title>Anand Love Sneha ‚Äî Responsive Moon v5.1</title>
<style>
:root{--text:#fff;}
body{
  margin:0;
  height:100vh;
  background:radial-gradient(circle at 50% 20%, #1a0f36 0%, #08021b 60%, #020010 100%);
  font-family:"Poppins",Segoe UI,system-ui;
  color:var(--text);
  overflow:hidden;
}
canvas{position:fixed;inset:0;width:100%;height:100%;pointer-events:none;z-index:0}

/* ===== MOON ===== */
#moonWrap{
  position:fixed;
  top:45%;
  left:50%;
  transform:translate(-50%,-50%);
  aspect-ratio:1/1;
  width:min(65vmin,85vw);
  border-radius:50%;
  overflow:hidden;
  z-index:1;
  pointer-events:none;
}
#moonImg{
  width:100%;
  height:100%;
  border-radius:50%;
  object-fit:cover;
  opacity:0.9;
  transition:filter .6s ease;
  -webkit-mask-image:radial-gradient(circle, rgba(0,0,0,1) 98%, rgba(0,0,0,0) 100%);
  mask-image:radial-gradient(circle, rgba(0,0,0,1) 98%, rgba(0,0,0,0) 100%);
}

/* ===== TEXT ===== */
.titleWrap{
  position:fixed;
  top:43%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
  z-index:3;
  width:90%;
}
h1{
  margin:0;
  font-size:clamp(24px,6vw,50px);
  text-shadow:0 0 18px rgba(0,0,0,0.5);
}
.subtitle{
  margin-top:4px;
  font-size:clamp(12px,3vw,16px);
  opacity:0.9;
}

.message{
  position:fixed;
  top:68%;
  left:50%;
  transform:translateX(-50%);
  text-align:center;
  width:90%;
  font-size:clamp(13px,3.6vw,20px);
  line-height:1.5;
  opacity:0;
  transition:opacity .6s ease;
  text-shadow:0 0 12px rgba(0,0,0,0.6);
  z-index:3;
}

#tap{
  position:fixed;
  top:58%;
  left:50%;
  transform:translateX(-50%);
  padding:10px 16px;
  border-radius:999px;
  background:rgba(255,255,255,0.1);
  color:var(--text);
  border:0;
  cursor:pointer;
  z-index:4;
  display:none;
}

footer{
  position:fixed;
  bottom:10px;
  right:10px;
  font-size:12px;
  color:rgba(255,255,255,0.6);
  z-index:5;
}

/* Prevent moon stretch on mobile landscape */
@media (orientation:landscape) and (max-height:500px){
  #moonWrap{width:min(50vmin,60vh);}
  .titleWrap{top:45%;}
  .message{top:75%;}
}
</style>
</head>
<body>
<canvas id="stars"></canvas>
<canvas id="shoot"></canvas>

<div id="moonWrap"><img id="moonImg" src="moon.jpg" alt="Moon texture"></div>

<div class="titleWrap">
  <h1>Anand Love Sneha üíû</h1>
  <div class="subtitle">Story by Anand</div>
</div>

<button id="tap">Tap to play ‚ù§Ô∏è</button>
<div class="message" id="msg"></div>
<footer>Made by Anand for Sneha üíï</footer>

<audio id="bg" src="music.mp3" preload="auto" loop></audio>

<script>
const bg=document.getElementById("bg"),tap=document.getElementById("tap");
bg.volume=0.3;bg.play().catch(()=>tap.style.display="block");
tap.onclick=()=>{bg.play();tap.style.display="none"};

/* üåü Stars */
const sc=document.getElementById("stars"),ctx=sc.getContext("2d");
function resize(){sc.width=innerWidth;sc.height=innerHeight;}resize();addEventListener("resize",resize);
let stars=[...Array(90)].map(()=>({x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:Math.random()*1.4+0.2,p:Math.random()*Math.PI*2}));
function drawStars(t){ctx.clearRect(0,0,sc.width,sc.height);for(const s of stars){s.p+=0.005;ctx.fillStyle=`rgba(255,255,255,${0.3+0.3*Math.sin(s.p)})`;ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);ctx.fill();}requestAnimationFrame(drawStars);}requestAnimationFrame(drawStars);

/* üåô Moon Phase */
const moon=document.getElementById("moonImg"),wrap=document.getElementById("moonWrap");
function phase(){
  const now=new Date();
  let y=now.getFullYear(),m=now.getMonth()+1,d=now.getDate();
  if(m<3){y--;m+=12;}
  const k1=Math.floor(365.25*(y+4712)),k2=Math.floor(30.6001*(m+1));
  const jd=k1+k2+d-1524.5+(now.getHours()/24);
  const syn=29.53058867;
  let days=(jd-2451549.5)%syn;if(days<0)days+=syn;
  const p=days/syn,n=p*2-1,off=50+n*28,shade=Math.abs(n)*0.8;
  const mask=`radial-gradient(circle at 50% 50%,rgba(0,0,0,0) 0%,rgba(0,0,0,${0.1+shade*0.3}) 55%,rgba(0,0,0,0.95) 100%),linear-gradient(90deg,rgba(0,0,0,0.95) ${off}%,rgba(0,0,0,0) ${off+8}%)`;
  moon.style.webkitMaskImage=mask;moon.style.maskImage=mask;
  const bright=0.9+0.3*Math.sin(p*Math.PI);
  moon.style.filter=`brightness(${bright}) contrast(1.05)`;
}
phase();setInterval(phase,60000);

/* alive pulse */
let t0=performance.now();function pulse(){const t=(performance.now()-t0)/1000;const s=1+0.02*Math.sin(t*1.5);const fx=Math.sin(t*0.12)*6,fy=Math.cos(t*0.1)*4;wrap.style.transform=`translate(calc(-50% + ${fx}px),calc(-50% + ${fy}px)) scale(${s})`;requestAnimationFrame(pulse);}pulse();

/* üí¨ Messages */
const msgs=[
 "A story written in pixels, but felt in every heartbeat üíó",
 "Hey Sneha Shaw, that message about ‚ÄòFir Mohabbat‚Äô started our story üíû",
 "28 Sept 2025 ‚Äî the day my heart found its home üíñ",
 "2 Oct ‚Äî you said ‚ÄòI like you‚Äô and my world changed ‚ú®",
 "4 Oct ‚Äî our first call; your voice was peace, your laugh was home üíû",
 "I can‚Äôt spend a day without your ‚ÄòGood Morning‚Äô and night without your ‚ÄòLove you‚Äô üíñ",
 `Since 27 Sept 2025 ‚Äî it's been ${Math.floor((Date.now()-new Date(2025,8,27))/(1000*60*60*24))} days of love.`,
 "I will always love you, no matter what comes ‚ù§Ô∏è",
 "Na waqt rok saka, na dooriyan tod saki‚Ä¶ meri mohabbat tujhme hi simat gayi üíû"
];
const msg=document.getElementById("msg");let i=0;
function show(n){msg.style.opacity=0;setTimeout(()=>{msg.textContent=msgs[n];msg.style.opacity=1;},300);}
show(0);let timer=setInterval(()=>{i=(i+1)%msgs.length;show(i)},8000);
document.addEventListener("click",e=>{if(e.target.id=="tap")return;clearInterval(timer);i=(i+1)%msgs.length;show(i)},false);
</script>
</body>
</html>
